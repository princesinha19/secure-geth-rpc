# secure-geth-rpc

## Description
RPC has been used in the field of distributed technology from the time when the concepts of distributed computing were fairly new. In a decentralized world, RPC is used to connect to blockchain peer nodes. Bitcoin used authentication for connecting via RPC but ethereum doesn't have any authentication mechanism for connecting to the peer node. As a result, the RPC port exposed to connect to the peer node can be exposed to the attackers. The attackers can drain ethers from the accounts which are in the network. Attackers also, target ERC-20 or ERC-721 tokens owned by the accounts in a particular peer node. Attackers take advantage of an unlocked account on the peer node. Attackers can run a script to get the balance of a particular unlocked account and then transfer the ether to a malicious account under the attacker's control. The attacks like these have been fatal to the other accounts that are already present on that node. Other attacks that can drain the ERC tokens present on the node include the zero gas transaction, stealing tokens from the fisher's account, exploiting the airdrop mechanism, etc.

This project uses a whitelisting mechanism to connect to the peer node. The whitelist consists of IP addresses that are allowed to use the RPC. IP addresses are added to the whitelist after manual KYC verification. Upon successful verification, the IP address is added to the whitelisted address. The project acts as an outer wrapper for the ethereum’s JSON RPC which is not protected by any mechanism by default. The Whitelist is created using UFW (uncomplicated firewall). The IP address that is not added in the firewall as rules will be blocked as the incoming TCP packets are automatically dropped by the firewall. 

The mechanism of addition to the whitelist is fairly simple yet effective. Manual KYC is used to add new IP addresses to the whitelist. The KYC used in the project is a fully decentralized system. At the time of registration, an email with the public key of the user is sent to the admin of the node for manual verification. The public key of the user along with the private key of the admin is used to decrypt the KYC documents stored in the IPFS. After verification of the KYC documents by the admin, the user’s IP address is added to the whitelist. The user will now be able to access the ethereum using JSON RPC.
